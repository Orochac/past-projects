void split_deque(Deque *deque, int k) {
  int i;
  //upper
  Node *current = deque->top, *upper=NULL, *lower=NULL;
  deque->top=NULL;
  deque->bottom=NULL;
  for(i=0; i<deque_size(deque);i++){
    if(current->data>=k){
      if(!deque->top){
        deque->top = current;
      }
      else{
          upper->next=current;
          current->prev=upper;
      }
      upper = current;
    }
    else{
      if(!deque->bottom){
        deque->bottom = current;
      }
      else{
          lower->next=current;
          current->prev=lower;
      }
      lower = current;
    }
    current = current->next;
  }
  deque->top->prev = NULL;
  lower->next = NULL;
  upper->next=deque->bottom;
  deque->bottom->prev = upper;
  deque->bottom = lower;
  //exit_with_error("split_deque not implemented");
}